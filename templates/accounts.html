{% extends "layout.html" %}

{% block title %}Accounts â€“ Investment Dashboard{% endblock %}

{% block content %}
<h2>Accounts</h2>
<table>
    <thead>
        <tr>
            <th>Name</th>
            <th>Taxation</th>
            <th>Short Term Rate</th>
            <th>Long Term Rate</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody>
    {% for acc in accounts %}
        <tr>
            <td>{{ acc.name }}</td>
            <td>{{ acc.taxation or '' }}</td>
            <td>{{ '%.2f' | format(acc.short_term_tax_rate or 0) }}</td>
            <td>{{ '%.2f' | format(acc.long_term_tax_rate or 0) }}</td>
            <td>
                <a href="/accounts/edit/{{ acc.id }}">Edit</a> |
                <a href="/accounts/delete/{{ acc.id }}" onclick="return confirm('Delete account?');">Delete</a>
            </td>
        </tr>
    {% endfor %}
    </tbody>
</table>

<h3>Add New Account</h3>
<form method="post" action="/accounts">
    <label for="name">Name</label>
    <input type="text" id="name" name="name" required>
    <label for="taxation">Taxation</label>
    <input type="text" id="taxation" name="taxation">
    <label for="short_term_tax_rate">Short Term Tax Rate (e.g. 0.24)</label>
    <input type="number" step="0.01" id="short_term_tax_rate" name="short_term_tax_rate">
    <label for="long_term_tax_rate">Long Term Tax Rate (e.g. 0.15)</label>
    <input type="number" step="0.01" id="long_term_tax_rate" name="long_term_tax_rate">
    <button type="submit">Add Account</button>
</form>
{% endblock %}